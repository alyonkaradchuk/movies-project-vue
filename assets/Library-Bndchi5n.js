import{_ as T,r as s,o as B,f as L,a as N,c as f,b as n,d as u,e as M,H as U,g as v,t as k,F as $,h as E,i as G,u as S,j as V,C as j,P as q,A,M as H,k as o}from"./index-D87-s75K.js";const I={class:"library"},x={class:"movies-container"},D={key:0,class:"loader-container"},J={key:1},O={key:0},z={key:1},g=8,K={__name:"Library",setup(Q){const l=s([]),r=s("watched"),p=s({}),c=s(!0),i=s(!1),_=s(null),d=s(1),m=s(null);B(async()=>{const e=await L();p.value=e,h()}),N(()=>{clearTimeout(m.value)});const P=e=>{r.value=e,h()},h=()=>{l.value=[];const e=JSON.parse(localStorage.getItem(r.value))||[];c.value=!0,m.value=setTimeout(()=>{l.value=e,c.value=!1},600)},w=f(()=>l.value.length),y=f(()=>{const e=(d.value-1)*g,t=e+g;return l.value.slice(e,t)}),C=e=>{d.value=e,window.scrollTo({top:0,behavior:"smooth"})},b=e=>{_.value=e,i.value=!0},F=e=>e.map(t=>p.value[t]||"Unknown").join(", ");return(e,t)=>(o(),n("div",I,[u(U,{onFilter:P}),M("div",x,[c.value?(o(),n("div",D,t[1]||(t[1]=[M("div",{class:"loader"},null,-1)]))):y.value.length===0?(o(),n("div",J,[r.value==="watched"?(o(),n("p",O,k(e.$t("watchedEmptyMessage")),1)):v("",!0),r.value==="queue"?(o(),n("p",z,k(e.$t("queueEmptyMessage")),1)):v("",!0)])):v("",!0),(o(!0),n($,null,E(y.value,a=>(o(),G(j,{key:a.id,id:a.id,image:{imageUrl:S(V)(a.poster_path)},title:a.title||a.name,genre:F(a.genre_ids),year:a.release_date?a.release_date.split("-")[0]:"Unknown",onClick:R=>b(a)},null,8,["id","image","title","genre","year","onClick"]))),128))]),u(q,{totalMovies:w.value,moviesPerPage:g,currentPage:d.value,onPageChange:C},null,8,["totalMovies","currentPage"]),u(A),u(H,{show:i.value,movie:_.value,onClose:t[0]||(t[0]=a=>i.value=!1)},null,8,["show","movie"])]))}},X=T(K,[["__scopeId","data-v-fa9bc7be"]]);export{X as default};
